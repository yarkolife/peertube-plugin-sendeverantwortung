# PeerTube Plugin Sendeverantwortung

Плагин для PeerTube, который добавляет поле "Sendeverantwortung" (ответственный за передачу) и скрытое поле с номером видео.

## Возможности

- **Видимое поле "Sendeverantwortung"**: Отображается на странице просмотра видео с возможностью группировки по автору
- **Скрытое поле "Номер видео"**: Доступно только через API
- **API для получения данных**: Эндпоинт для получения номера видео
- **Правильная группировка**: При клике на имя автора открывается поиск по всем его видео

## Установка

### Автоматическая установка (рекомендуется)

1. Войдите в админ-панель PeerTube
2. Перейдите в "Плагины/Темы" → "Поиск"
3. Найдите "sendeverantwortung" и нажмите "Установить"

### Ручная установка

1. Склонируйте репозиторий:
```bash
git clone https://github.com/yourusername/peertube-plugin-sendeverantwortung.git
cd peertube-plugin-sendeverantwortung
```

2. Установите зависимости для сборки:
```bash
npm install esbuild --save-dev
```

3. Соберите плагин:
```bash
npm run build
```

4. Установите в PeerTube:
   - Зайдите в админ-панель
   - "Плагины/Темы" → "Локальные"
   - Загрузите ZIP-архив плагина

## Использование

### Добавление данных к видео

При загрузке или редактировании видео вы увидите:
- **На главной вкладке**: Поле "Sendeverantwortung" для имени автора
- **В настройках плагина**: Поле "Номер видео" для внутреннего номера

### Просмотр на фронтенде

На странице просмотра видео отображается:
- Поле "Sendeverantwortung" с кликабельной ссылкой на поиск всех видео автора
- Номер видео НЕ отображается

### API

#### Получить номер видео
```bash
GET /plugins/peertube-plugin-sendeverantwortung/router/video/:uuid/number
```

**Пример запроса:**
```bash
curl "http://your-peertube-instance/plugins/peertube-plugin-sendeverantwortung/router/video/12345678-1234-1234-1234-123456789abc/number"
```

**Ответ:**
```json
{
  "videoNumber": "12345"
}
```

#### Ошибки API
- `404`: Номер видео не найден
- `500`: Внутренняя ошибка сервера

## Требования

- PeerTube версии 5.2.0 или выше
- Node.js для сборки (если устанавливаете из исходников)

## Лицензия

GNU Affero General Public License v3.0

## Поддержка

Если у вас есть вопросы или предложения, создайте issue в этом репозитории.
